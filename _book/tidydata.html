<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Tidy data | EDS 221: SCIENTIFIC PROGRAMMING ESSENTIALS</title>
  <meta name="description" content="Evolving course materials for EDS 221 (Scientific Programming Essentials)." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Tidy data | EDS 221: SCIENTIFIC PROGRAMMING ESSENTIALS" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Evolving course materials for EDS 221 (Scientific Programming Essentials)." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Tidy data | EDS 221: SCIENTIFIC PROGRAMMING ESSENTIALS" />
  
  <meta name="twitter:description" content="Evolving course materials for EDS 221 (Scientific Programming Essentials)." />
  

<meta name="author" content="Allison Horst" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="types.html"/>
<link rel="next" href="basic-wrangling.html"/>
<script src="libs/header-attrs-2.6.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">EDS 221</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Scientific programming essentials for environmental data science</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#material-disclaimer-and-use"><i class="fa fa-check"></i>Material disclaimer and use</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#course-introduction"><i class="fa fa-check"></i><b>1.1</b> Course introduction</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#links-to-course-materials"><i class="fa fa-check"></i><b>1.2</b> Links to course materials</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#course-setup"><i class="fa fa-check"></i><b>1.3</b> Course setup</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#course-resources"><i class="fa fa-check"></i><b>1.4</b> Course resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-py.html"><a href="r-py.html"><i class="fa fa-check"></i><b>2</b> Meet the 221 tools</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-py.html"><a href="r-py.html#r"><i class="fa fa-check"></i><b>2.1</b> R</a></li>
<li class="chapter" data-level="2.2" data-path="r-py.html"><a href="r-py.html#rstudio"><i class="fa fa-check"></i><b>2.2</b> RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="r-py.html"><a href="r-py.html#python"><i class="fa fa-check"></i><b>2.3</b> Python</a></li>
<li class="chapter" data-level="2.4" data-path="r-py.html"><a href="r-py.html#jupyter-notebooks"><i class="fa fa-check"></i><b>2.4</b> Jupyter Notebooks</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="types.html"><a href="types.html"><i class="fa fa-check"></i><b>3</b> Data structures and types</a>
<ul>
<li class="chapter" data-level="3.1" data-path="types.html"><a href="types.html#data-structures"><i class="fa fa-check"></i><b>3.1</b> Data structures</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="types.html"><a href="types.html#vectors"><i class="fa fa-check"></i><b>3.1.1</b> Vectors</a></li>
<li class="chapter" data-level="3.1.2" data-path="types.html"><a href="types.html#tibbles"><i class="fa fa-check"></i><b>3.1.2</b> Tibbles</a></li>
<li class="chapter" data-level="3.1.3" data-path="types.html"><a href="types.html#matrices"><i class="fa fa-check"></i><b>3.1.3</b> Matrices</a></li>
<li class="chapter" data-level="3.1.4" data-path="types.html"><a href="types.html#lists"><i class="fa fa-check"></i><b>3.1.4</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="types.html"><a href="types.html#data-types"><i class="fa fa-check"></i><b>3.2</b> Data types</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidydata.html"><a href="tidydata.html"><i class="fa fa-check"></i><b>4</b> Tidy data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidydata.html"><a href="tidydata.html#common-ways-data-are-untidy"><i class="fa fa-check"></i><b>4.1</b> Common ways data are untidy</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="tidydata.html"><a href="tidydata.html#untidy-example-1-a-single-variable-across-multiple-columns"><i class="fa fa-check"></i><b>4.1.1</b> Untidy example 1: A single variable across multiple columns</a></li>
<li class="chapter" data-level="4.1.2" data-path="tidydata.html"><a href="tidydata.html#untidy-example-2-multiple-values-in-a-single-cell"><i class="fa fa-check"></i><b>4.1.2</b> Untidy example 2: multiple values in a single cell</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="tidydata.html"><a href="tidydata.html#tidy-data-makes-coding-easier"><i class="fa fa-check"></i><b>4.2</b> Tidy data makes coding easier</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="tidydata.html"><a href="tidydata.html#code-working-for-you"><i class="fa fa-check"></i><b>4.2.1</b> Code working for you</a></li>
<li class="chapter" data-level="4.2.2" data-path="tidydata.html"><a href="tidydata.html#parse-explore"><i class="fa fa-check"></i><b>4.2.2</b> Parse &amp; explore</a></li>
<li class="chapter" data-level="4.2.3" data-path="tidydata.html"><a href="tidydata.html#safer-summary-statistics"><i class="fa fa-check"></i><b>4.2.3</b> Safer summary statistics</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="tidydata.html"><a href="tidydata.html#tidy-data-for-collaboration"><i class="fa fa-check"></i><b>4.3</b> Tidy data for collaboration</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basic-wrangling.html"><a href="basic-wrangling.html"><i class="fa fa-check"></i><b>5</b> Basic wrangling</a></li>
<li class="chapter" data-level="6" data-path="logicals.html"><a href="logicals.html"><i class="fa fa-check"></i><b>6</b> Logical operators</a></li>
<li class="chapter" data-level="7" data-path="conditionals.html"><a href="conditionals.html"><i class="fa fa-check"></i><b>7</b> Conditionals</a></li>
<li class="chapter" data-level="8" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>8</b> Iteration</a>
<ul>
<li class="chapter" data-level="8.1" data-path="iteration.html"><a href="iteration.html#iteration-in-programming"><i class="fa fa-check"></i><b>8.1</b> Iteration in programming</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="iteration.html"><a href="iteration.html#a-real-world-example-of-iteration-in-environmental-data-science"><i class="fa fa-check"></i><b>8.1.1</b> A real-world example of iteration in environmental data science</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="iteration.html"><a href="iteration.html#generic-for-loop-anatomy"><i class="fa fa-check"></i><b>8.2</b> Generic for loop anatomy</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="iteration.html"><a href="iteration.html#anatomy-of-a-for-loop"><i class="fa fa-check"></i><b>8.2.1</b> Anatomy of a for loop</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="iteration.html"><a href="iteration.html#basic-for-loops-in-r-and-python"><i class="fa fa-check"></i><b>8.3</b> Basic for loops in R and Python</a></li>
<li class="chapter" data-level="8.4" data-path="iteration.html"><a href="iteration.html#iteration-with-conditions"><i class="fa fa-check"></i><b>8.4</b> Iteration with conditions</a></li>
<li class="chapter" data-level="8.5" data-path="iteration.html"><a href="iteration.html#while-loop"><i class="fa fa-check"></i><b>8.5</b> While loop</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="iteration.html"><a href="iteration.html#a-while-loop-break-statement"><i class="fa fa-check"></i><b>8.5.1</b> A while loop break statement</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="iteration.html"><a href="iteration.html#r-python-side-by-side-comparisons"><i class="fa fa-check"></i><b>8.6</b> R / Python side-by-side comparisons</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>9</b> Functions</a>
<ul>
<li class="chapter" data-level="9.1" data-path="functions.html"><a href="functions.html#function-components"><i class="fa fa-check"></i><b>9.1</b> Function components</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="functions.html"><a href="functions.html#a-note-on-names"><i class="fa fa-check"></i><b>9.1.1</b> A note on names</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="functions.html"><a href="functions.html#writing-simple-functions"><i class="fa fa-check"></i><b>9.2</b> Writing simple functions</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="functions.html"><a href="functions.html#example-1-fish-standard-weight"><i class="fa fa-check"></i><b>9.2.1</b> Example 1: Fish standard weight</a></li>
<li class="chapter" data-level="9.2.2" data-path="functions.html"><a href="functions.html#example-2-wind-turbines"><i class="fa fa-check"></i><b>9.2.2</b> Example 2: Wind turbines</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="functions.html"><a href="functions.html#functions-with-conditionals"><i class="fa fa-check"></i><b>9.3</b> Functions with conditionals</a></li>
<li class="chapter" data-level="9.4" data-path="functions.html"><a href="functions.html#functions-with-iteration"><i class="fa fa-check"></i><b>9.4</b> Functions with iteration</a></li>
<li class="chapter" data-level="9.5" data-path="functions.html"><a href="functions.html#useful-function-features"><i class="fa fa-check"></i><b>9.5</b> Useful function features</a></li>
<li class="chapter" data-level="9.6" data-path="functions.html"><a href="functions.html#testing-functions"><i class="fa fa-check"></i><b>9.6</b> Testing functions</a></li>
<li class="chapter" data-level="9.7" data-path="functions.html"><a href="functions.html#iterating-functions"><i class="fa fa-check"></i><b>9.7</b> Iterating functions</a></li>
<li class="chapter" data-level="9.8" data-path="functions.html"><a href="functions.html#resources-on-building-testing-documenting-functions"><i class="fa fa-check"></i><b>9.8</b> Resources on building, testing, &amp; documenting functions</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>10</b> Data wrangling &amp; viz in the tidyverse</a></li>
<li class="chapter" data-level="11" data-path="troubleshooting.html"><a href="troubleshooting.html"><i class="fa fa-check"></i><b>11</b> Troubleshooting</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EDS 221: SCIENTIFIC PROGRAMMING ESSENTIALS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tidydata" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Tidy data</h1>
<p>Note: all artwork in this chapter are from an illustrated collaborative <a href="https://www.openscapes.org/blog/2020/10/12/tidy-data/">Openscapes blog post</a> by Dr. Julia Lowndes and Dr. Allison Horst <span class="citation">(<a href="references.html#ref-lowndes_tidy_2020" role="doc-biblioref">Lowndes and Horst 2020</a>)</span>.</p>
<p>Tidy data is a predictable way to organize data that makes it more coder and collaborator friendly. As described by Hadley Wickham, <strong>in <em>tidy data</em> each column is a variable, each row is an observation, and each cell contains a single value (measurement)</strong> <span class="citation">(<a href="references.html#ref-wickham_tidy_2014" role="doc-biblioref">Wickham 2014</a>)</span>.</p>
<p><img src="images/tidydata_1.jpg" title="Tidy data #1" width="600" /></p>
<p>This may seem like a mundane topic, but tidy data provides a way of thinking about and organizing data that will become fundamental to how you input, wrangling, and work with environmental data - it becomes part of a systematic approach to working with data that <strong>will make you a better data scientist and collaborator</strong>.</p>
<div id="common-ways-data-are-untidy" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Common ways data are untidy</h2>
<p>One way to understand tidy data is to consider what makes some data sets <em>untidy</em>. Let’s explore some examples of untidy data, and for each think about (1) why it’s untidy, and (2) how we would wrangle it to make it tidy data.</p>
<div id="untidy-example-1-a-single-variable-across-multiple-columns" class="section level3" number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Untidy example 1: A single variable across multiple columns</h3>
<p>One of the most common ways that data can be untidy is if a single variable is broken up by group across multiple columns. For example, the following data contains the weights of three dogs, measured over four years:</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-2">Table 4.1: </span>Dog weight (pounds) in untidy format, where a single variable (weight) is spread out across different levels of the year variable.
</caption>
<thead>
<tr>
<th style="text-align:left;">
dog
</th>
<th style="text-align:right;">
2018
</th>
<th style="text-align:right;">
2019
</th>
<th style="text-align:right;">
2020
</th>
<th style="text-align:right;">
2021
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Teddy
</td>
<td style="text-align:right;">
36.4
</td>
<td style="text-align:right;">
39.2
</td>
<td style="text-align:right;">
44.8
</td>
<td style="text-align:right;">
47.5
</td>
</tr>
<tr>
<td style="text-align:left;">
Khora
</td>
<td style="text-align:right;">
41.6
</td>
<td style="text-align:right;">
48.3
</td>
<td style="text-align:right;">
52.9
</td>
<td style="text-align:right;">
50.1
</td>
</tr>
<tr>
<td style="text-align:left;">
Waffle
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
20.4
</td>
<td style="text-align:right;">
23.7
</td>
</tr>
</tbody>
</table>
<p>In this example, there are really only 3 variables: dog name, dog weight, and year. But as organized, there are <strong>5</strong> columns - this should be our first indication that the data is not tidy. Instead of each variable occupying its own column, the <strong>weight</strong> measurements have been split up across multiple columns, separated by the different levels of <strong>year</strong>. Sometimes you will hear this called “wide format” when a single variable is spread across multiple columns.<br />
<br />
<strong>What would this data look like if it were tidy?</strong><br />
<br />
To be in tidy data, each variable (<strong>dog</strong>, <strong>weight</strong>, and <strong>year</strong>) should have its own column. In this example, starting from the wide format data we need to reshape <strong>weight</strong> observations into a single column. Year will need to populate a new column, with year values repeated as necessary to align with the long-format weights. We’ll also need to repeat the dog names to accommodate the number of observations for each.<br />
<br />
Later on, we’ll hear how to reshape data from wide-to-long format (e.g. using <code>tidyr::pivot_longer()</code> in R), but for now think about the tidy format of the same data, shown below:</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-3">Table 4.2: </span>Dog weight (pounds) in tidy format, where each variable is in its own column.
</caption>
<thead>
<tr>
<th style="text-align:left;">
dog
</th>
<th style="text-align:left;">
year
</th>
<th style="text-align:right;">
weight
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Teddy
</td>
<td style="text-align:left;">
2018
</td>
<td style="text-align:right;">
36.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Teddy
</td>
<td style="text-align:left;">
2019
</td>
<td style="text-align:right;">
39.2
</td>
</tr>
<tr>
<td style="text-align:left;">
Teddy
</td>
<td style="text-align:left;">
2020
</td>
<td style="text-align:right;">
44.8
</td>
</tr>
<tr>
<td style="text-align:left;">
Teddy
</td>
<td style="text-align:left;">
2021
</td>
<td style="text-align:right;">
47.5
</td>
</tr>
<tr>
<td style="text-align:left;">
Khora
</td>
<td style="text-align:left;">
2018
</td>
<td style="text-align:right;">
41.6
</td>
</tr>
<tr>
<td style="text-align:left;">
Khora
</td>
<td style="text-align:left;">
2019
</td>
<td style="text-align:right;">
48.3
</td>
</tr>
<tr>
<td style="text-align:left;">
Khora
</td>
<td style="text-align:left;">
2020
</td>
<td style="text-align:right;">
52.9
</td>
</tr>
<tr>
<td style="text-align:left;">
Khora
</td>
<td style="text-align:left;">
2021
</td>
<td style="text-align:right;">
50.1
</td>
</tr>
<tr>
<td style="text-align:left;">
Waffle
</td>
<td style="text-align:left;">
2018
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Waffle
</td>
<td style="text-align:left;">
2019
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Waffle
</td>
<td style="text-align:left;">
2020
</td>
<td style="text-align:right;">
20.4
</td>
</tr>
<tr>
<td style="text-align:left;">
Waffle
</td>
<td style="text-align:left;">
2021
</td>
<td style="text-align:right;">
23.7
</td>
</tr>
</tbody>
</table>
</div>
<div id="untidy-example-2-multiple-values-in-a-single-cell" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Untidy example 2: multiple values in a single cell</h3>
<p>Another way that data can be untidy is if there are multiple “measurements” (or values) in a single cell. Keep in mind that a “value” doesn’t have to be numeric - it’s just a measurement or description for a recorded variable.</p>
<p>Sometimes raw data will contain multiple values in a single cell. For example, here we see that the make, model and year of cars are all in a single column called <strong>type</strong>:</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-4">Table 4.3: </span>Car descriptions in untidy format.
</caption>
<thead>
<tr>
<th style="text-align:left;">
type
</th>
<th style="text-align:left;">
color
</th>
<th style="text-align:left;">
condition
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1994 Toyota Corolla
</td>
<td style="text-align:left;">
silver
</td>
<td style="text-align:left;">
poor
</td>
</tr>
<tr>
<td style="text-align:left;">
2005 Subaru Outback
</td>
<td style="text-align:left;">
green
</td>
<td style="text-align:left;">
average
</td>
</tr>
<tr>
<td style="text-align:left;">
1977 Datsun 710
</td>
<td style="text-align:left;">
blue
</td>
<td style="text-align:left;">
excellent
</td>
</tr>
</tbody>
</table>
<p>An important thing is to be future-thinking about data, and expect that <strong>even if you don’t think a specific question is important now, it may be important in the future</strong> – and having data in tidy format will make it easier to answer a wider range of questions with limited frustration. For example, maybe in the future (and if this were part of a larger data set) we would want to assess the condition of cars by year, or the color of cars by make and model. No matter how you slice those questions, having each variable in its own column will make them easier to explore and answer with code.<br />
<br />
In the future, you’ll learn how to separate components of a single column into multiple columns (e.g. using the <code>tidyr::separate()</code> function), which in this example would help to create a tidy version of the data that looks like this:<br />
</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-5">Table 4.4: </span>Car descriptions in tidy format.
</caption>
<thead>
<tr>
<th style="text-align:left;">
year
</th>
<th style="text-align:left;">
make
</th>
<th style="text-align:left;">
model
</th>
<th style="text-align:left;">
color
</th>
<th style="text-align:left;">
condition
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1994
</td>
<td style="text-align:left;">
Toyota
</td>
<td style="text-align:left;">
Corolla
</td>
<td style="text-align:left;">
silver
</td>
<td style="text-align:left;">
poor
</td>
</tr>
<tr>
<td style="text-align:left;">
2005
</td>
<td style="text-align:left;">
Subaru
</td>
<td style="text-align:left;">
Outback
</td>
<td style="text-align:left;">
green
</td>
<td style="text-align:left;">
average
</td>
</tr>
<tr>
<td style="text-align:left;">
1977
</td>
<td style="text-align:left;">
Datsun
</td>
<td style="text-align:left;">
710
</td>
<td style="text-align:left;">
blue
</td>
<td style="text-align:left;">
excellent
</td>
</tr>
</tbody>
</table>
<p><strong>Untidy example 3: multiple observations in a single row</strong></p>
<p>Occasionally, you will see environmental data where information for <em>multiple observations are stored in a single row</em>. For example, this is common when research divers are estimating numbers of a certain species within different size bins. For example, a dive record may contain information like this:</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-6">Table 4.5: </span>Spiny lobster counts by size.
</caption>
<thead>
<tr>
<th style="text-align:left;">
species
</th>
<th style="text-align:right;">
size_cm
</th>
<th style="text-align:right;">
count
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
4.5
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
5.0
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
5.5
</td>
<td style="text-align:right;">
0
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
6.0
</td>
<td style="text-align:right;">
1
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
6.5
</td>
<td style="text-align:right;">
3
</td>
</tr>
</tbody>
</table>
<p>So in this case, we have multiple lobster observations occupying single rows (e.g. the second row actually contains data for four lobsters). On the spectrum of untidy data, this isn’t too bad - but it can make it much easier (and less risky) to visualize and analyze the data if each observation is in its own row. We’ll learn how to convert a <strong>frequency table</strong> (like this one, which contains counts) into <strong>case format</strong> (which does have a single row per observation, so that the data look something like this:</p>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
species
</th>
<th style="text-align:right;">
size_cm
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
4.5
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
4.5
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
5.0
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
6.0
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
6.5
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
6.5
</td>
</tr>
<tr>
<td style="text-align:left;">
spiny lobster
</td>
<td style="text-align:right;">
6.5
</td>
</tr>
</tbody>
</table>
<p>Now, each individual lobster occupies its own row, and the data are in tidy format.</p>
</div>
</div>
<div id="tidy-data-makes-coding-easier" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Tidy data makes coding easier</h2>
<p>The process of creating tidy data is useful in an of itself, because it requires us to be deliberate and thoughtful about how we structure our data, and makes us define our <em>variables</em>, <em>observations</em> and <em>measurements</em>. We will learn why that benefits us and our collaborators in the next section. Here, let’s learn why tidy data is code- and coder-friendly.</p>
<div id="code-working-for-you" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Code working for you</h3>
</div>
<div id="parse-explore" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Parse &amp; explore</h3>
</div>
<div id="safer-summary-statistics" class="section level3" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Safer summary statistics</h3>
<p><img src="images/tidydata_2.jpg" width="601" /></p>
<p><img src="images/tidydata_3.jpg" /></p>
</div>
</div>
<div id="tidy-data-for-collaboration" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Tidy data for collaboration</h2>
<p><img src="images/tidydata_4.jpg" width="502" /></p>
<p><img src="images/tidydata_5.jpg" /></p>
<p><img src="images/tidydata_6.jpg" /></p>
<p><img src="images/tidydata_7.jpg" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="types.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="basic-wrangling.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["eds-221.pdf", "eds-221.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>

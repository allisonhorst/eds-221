<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 12 Data visualization with ggplot2 and seaborn | EDS 221: SCIENTIFIC PROGRAMMING ESSENTIALS</title>
  <meta name="description" content="Evolving course materials for EDS 221 (Scientific Programming Essentials)." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 12 Data visualization with ggplot2 and seaborn | EDS 221: SCIENTIFIC PROGRAMMING ESSENTIALS" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Evolving course materials for EDS 221 (Scientific Programming Essentials)." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 12 Data visualization with ggplot2 and seaborn | EDS 221: SCIENTIFIC PROGRAMMING ESSENTIALS" />
  
  <meta name="twitter:description" content="Evolving course materials for EDS 221 (Scientific Programming Essentials)." />
  

<meta name="author" content="Allison Horst" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="troubleshooting.html"/>
<link rel="next" href="py-r.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">EDS 221</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Scientific programming essentials for environmental data science</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#material-disclaimer-and-use"><i class="fa fa-check"></i>Material disclaimer and use</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#course-introduction"><i class="fa fa-check"></i><b>1.1</b> Course introduction</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#links-to-course-materials"><i class="fa fa-check"></i><b>1.2</b> Links to course materials</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#course-setup"><i class="fa fa-check"></i><b>1.3</b> Course setup</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#course-resources"><i class="fa fa-check"></i><b>1.4</b> Course resources</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-py.html"><a href="r-py.html"><i class="fa fa-check"></i><b>2</b> Programming, R, and Python</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-py.html"><a href="r-py.html#what-is-programming"><i class="fa fa-check"></i><b>2.1</b> What is programming?</a></li>
<li class="chapter" data-level="2.2" data-path="r-py.html"><a href="r-py.html#r"><i class="fa fa-check"></i><b>2.2</b> R</a></li>
<li class="chapter" data-level="2.3" data-path="r-py.html"><a href="r-py.html#python"><i class="fa fa-check"></i><b>2.3</b> Python</a></li>
<li class="chapter" data-level="2.4" data-path="r-py.html"><a href="r-py.html#rstudio"><i class="fa fa-check"></i><b>2.4</b> RStudio</a></li>
<li class="chapter" data-level="2.5" data-path="r-py.html"><a href="r-py.html#jupyter-notebooks-not-sure"><i class="fa fa-check"></i><b>2.5</b> Jupyter Notebooks (??? not sure)</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="r-py.html"><a href="r-py.html#py-stuff-to-add-here-or-somewhere"><i class="fa fa-check"></i><b>2.5.1</b> Py stuff to add here or somewhere:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="types.html"><a href="types.html"><i class="fa fa-check"></i><b>3</b> Data representation, types and structures in R &amp; Python</a>
<ul>
<li class="chapter" data-level="3.1" data-path="types.html"><a href="types.html#data-representation"><i class="fa fa-check"></i><b>3.1</b> Data representation</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="types.html"><a href="types.html#bits.-bytes.-battlestar-galactica."><i class="fa fa-check"></i><b>3.1.1</b> Bits. Bytes. Battlestar Galactica.</a></li>
<li class="chapter" data-level="3.1.2" data-path="types.html"><a href="types.html#representing-non-integer-and-negative-values"><i class="fa fa-check"></i><b>3.1.2</b> Representing non-integer and negative values</a></li>
<li class="chapter" data-level="3.1.3" data-path="types.html"><a href="types.html#how-are-characters-stored"><i class="fa fa-check"></i><b>3.1.3</b> How are characters stored?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="types.html"><a href="types.html#data-types"><i class="fa fa-check"></i><b>3.2</b> Data types</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="types.html"><a href="types.html#types-of-data-elements"><i class="fa fa-check"></i><b>3.2.1</b> Types of data elements</a></li>
<li class="chapter" data-level="3.2.2" data-path="types.html"><a href="types.html#atomic-vectors-in-r"><i class="fa fa-check"></i><b>3.2.2</b> Atomic vectors in R</a></li>
<li class="chapter" data-level="3.2.3" data-path="types.html"><a href="types.html#lists-tuples-and-dictionaries-in-python"><i class="fa fa-check"></i><b>3.2.3</b> Lists, tuples and dictionaries in Python</a></li>
<li class="chapter" data-level="3.2.4" data-path="types.html"><a href="types.html#side-by-side-comparison-of-data-types-in-r-python"><i class="fa fa-check"></i><b>3.2.4</b> Side-by-side comparison of data types in R &amp; Python</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="types.html"><a href="types.html#data-structures"><i class="fa fa-check"></i><b>3.3</b> Data structures</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="types.html"><a href="types.html#vectors"><i class="fa fa-check"></i><b>3.3.1</b> Vectors</a></li>
<li class="chapter" data-level="3.3.2" data-path="types.html"><a href="types.html#tibbles"><i class="fa fa-check"></i><b>3.3.2</b> Tibbles</a></li>
<li class="chapter" data-level="3.3.3" data-path="types.html"><a href="types.html#matrices"><i class="fa fa-check"></i><b>3.3.3</b> Matrices</a></li>
<li class="chapter" data-level="3.3.4" data-path="types.html"><a href="types.html#lists"><i class="fa fa-check"></i><b>3.3.4</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="types.html"><a href="types.html#allison-random-notes"><i class="fa fa-check"></i><b>3.4</b> Allison random notes</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="types.html"><a href="types.html#converting-between-classes"><i class="fa fa-check"></i><b>3.4.1</b> Converting between classes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tidydata.html"><a href="tidydata.html"><i class="fa fa-check"></i><b>4</b> Tidy data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tidydata.html"><a href="tidydata.html#common-ways-data-are-untidy"><i class="fa fa-check"></i><b>4.1</b> Common ways data are untidy</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="tidydata.html"><a href="tidydata.html#untidy-example-1-a-single-variable-across-multiple-columns"><i class="fa fa-check"></i><b>4.1.1</b> Untidy example 1: A single variable across multiple columns</a></li>
<li class="chapter" data-level="4.1.2" data-path="tidydata.html"><a href="tidydata.html#untidy-example-2-multiple-values-in-a-single-cell"><i class="fa fa-check"></i><b>4.1.2</b> Untidy example 2: multiple values in a single cell</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="tidydata.html"><a href="tidydata.html#tidy-data-for-predictable-inputs"><i class="fa fa-check"></i><b>4.2</b> Tidy data for predictable inputs</a></li>
<li class="chapter" data-level="4.3" data-path="tidydata.html"><a href="tidydata.html#tidy-data-for-easier-analysis"><i class="fa fa-check"></i><b>4.3</b> Tidy data for easier analysis</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="tidydata.html"><a href="tidydata.html#code-working-for-you"><i class="fa fa-check"></i><b>4.3.1</b> Code working for you</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="tidydata.html"><a href="tidydata.html#tidy-data-for-skills-transfer-collaboration"><i class="fa fa-check"></i><b>4.4</b> Tidy data for skills transfer &amp; collaboration</a></li>
<li class="chapter" data-level="4.5" data-path="tidydata.html"><a href="tidydata.html#tidy-data-for-automation-repetition"><i class="fa fa-check"></i><b>4.5</b> Tidy data for automation &amp; repetition</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basic-wrangling.html"><a href="basic-wrangling.html"><i class="fa fa-check"></i><b>5</b> Basic wrangling</a>
<ul>
<li class="chapter" data-level="5.1" data-path="basic-wrangling.html"><a href="basic-wrangling.html#subsetting-data"><i class="fa fa-check"></i><b>5.1</b> Subsetting data</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="basic-wrangling.html"><a href="basic-wrangling.html#subset-rows-based-on-conditions"><i class="fa fa-check"></i><b>5.1.1</b> Subset rows based on conditions</a></li>
<li class="chapter" data-level="5.1.2" data-path="basic-wrangling.html"><a href="basic-wrangling.html#keep-omit-relocate-and-rename-columns-variables"><i class="fa fa-check"></i><b>5.1.2</b> Keep, omit, relocate, and rename columns (variables)</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="basic-wrangling.html"><a href="basic-wrangling.html#joining-data"><i class="fa fa-check"></i><b>5.2</b> Joining data</a></li>
<li class="chapter" data-level="5.3" data-path="basic-wrangling.html"><a href="basic-wrangling.html#reshaping-data"><i class="fa fa-check"></i><b>5.3</b> Reshaping data</a></li>
<li class="chapter" data-level="5.4" data-path="basic-wrangling.html"><a href="basic-wrangling.html#working-with-strings"><i class="fa fa-check"></i><b>5.4</b> Working with strings</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="logicals.html"><a href="logicals.html"><i class="fa fa-check"></i><b>6</b> Logical operators</a></li>
<li class="chapter" data-level="7" data-path="conditionals.html"><a href="conditionals.html"><i class="fa fa-check"></i><b>7</b> Conditionals</a>
<ul>
<li class="chapter" data-level="7.1" data-path="conditionals.html"><a href="conditionals.html#if-else-statements"><i class="fa fa-check"></i><b>7.1</b> if else statements</a></li>
<li class="chapter" data-level="7.2" data-path="conditionals.html"><a href="conditionals.html#if-else-if-else-statements"><i class="fa fa-check"></i><b>7.2</b> if else if else statements</a></li>
<li class="chapter" data-level="7.3" data-path="conditionals.html"><a href="conditionals.html#while-statements"><i class="fa fa-check"></i><b>7.3</b> while statements</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i><b>8</b> Iteration</a>
<ul>
<li class="chapter" data-level="8.1" data-path="iteration.html"><a href="iteration.html#iteration-in-programming"><i class="fa fa-check"></i><b>8.1</b> Iteration in programming</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="iteration.html"><a href="iteration.html#a-real-world-example-of-iteration-in-environmental-data-science"><i class="fa fa-check"></i><b>8.1.1</b> A real-world example of iteration in environmental data science</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="iteration.html"><a href="iteration.html#generic-for-loop-anatomy"><i class="fa fa-check"></i><b>8.2</b> Generic for loop anatomy</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="iteration.html"><a href="iteration.html#anatomy-of-a-for-loop"><i class="fa fa-check"></i><b>8.2.1</b> Anatomy of a for loop</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="iteration.html"><a href="iteration.html#basic-for-loops-in-r-and-python"><i class="fa fa-check"></i><b>8.3</b> Basic for loops in R and Python</a></li>
<li class="chapter" data-level="8.4" data-path="iteration.html"><a href="iteration.html#iteration-with-conditions"><i class="fa fa-check"></i><b>8.4</b> Iteration with conditions</a></li>
<li class="chapter" data-level="8.5" data-path="iteration.html"><a href="iteration.html#while-loop"><i class="fa fa-check"></i><b>8.5</b> While loop</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="iteration.html"><a href="iteration.html#a-while-loop-break-statement"><i class="fa fa-check"></i><b>8.5.1</b> A while loop break statement</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="iteration.html"><a href="iteration.html#r-python-side-by-side-comparisons"><i class="fa fa-check"></i><b>8.6</b> R / Python side-by-side comparisons</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i><b>9</b> Functions</a>
<ul>
<li class="chapter" data-level="9.1" data-path="functions.html"><a href="functions.html#function-components"><i class="fa fa-check"></i><b>9.1</b> Function components</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="functions.html"><a href="functions.html#a-note-on-names"><i class="fa fa-check"></i><b>9.1.1</b> A note on names</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="functions.html"><a href="functions.html#writing-simple-functions"><i class="fa fa-check"></i><b>9.2</b> Writing simple functions</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="functions.html"><a href="functions.html#example-1-fish-standard-weight"><i class="fa fa-check"></i><b>9.2.1</b> Example 1: Fish standard weight</a></li>
<li class="chapter" data-level="9.2.2" data-path="functions.html"><a href="functions.html#example-2-wind-turbines"><i class="fa fa-check"></i><b>9.2.2</b> Example 2: Wind turbines</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="functions.html"><a href="functions.html#functions-with-conditionals"><i class="fa fa-check"></i><b>9.3</b> Functions with conditionals</a></li>
<li class="chapter" data-level="9.4" data-path="functions.html"><a href="functions.html#functions-with-iteration"><i class="fa fa-check"></i><b>9.4</b> Functions with iteration</a></li>
<li class="chapter" data-level="9.5" data-path="functions.html"><a href="functions.html#useful-function-features"><i class="fa fa-check"></i><b>9.5</b> Useful function features</a></li>
<li class="chapter" data-level="9.6" data-path="functions.html"><a href="functions.html#testing-functions"><i class="fa fa-check"></i><b>9.6</b> Testing functions</a></li>
<li class="chapter" data-level="9.7" data-path="functions.html"><a href="functions.html#iterating-functions"><i class="fa fa-check"></i><b>9.7</b> Iterating functions</a></li>
<li class="chapter" data-level="9.8" data-path="functions.html"><a href="functions.html#resources-on-building-testing-documenting-functions"><i class="fa fa-check"></i><b>9.8</b> Resources on building, testing, &amp; documenting functions</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="wrangling.html"><a href="wrangling.html"><i class="fa fa-check"></i><b>10</b> Data wrangling with tidyverse and pandas</a>
<ul>
<li class="chapter" data-level="10.1" data-path="wrangling.html"><a href="wrangling.html#meet-the-tidyverse-and-pandas"><i class="fa fa-check"></i><b>10.1</b> Meet the tidyverse and pandas</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="wrangling.html"><a href="wrangling.html#r-wrangling-dplyr-tidyr-packages-in-the-tidyverse"><i class="fa fa-check"></i><b>10.1.1</b> R wrangling: <code>dplyr</code> &amp; <code>tidyr</code> packages in the tidyverse</a></li>
<li class="chapter" data-level="10.1.2" data-path="wrangling.html"><a href="wrangling.html#python-wrangling-the-pandas-library"><i class="fa fa-check"></i><b>10.1.2</b> Python wrangling: the <code>pandas</code> library</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="wrangling.html"><a href="wrangling.html#selecting-columns"><i class="fa fa-check"></i><b>10.2</b> Selecting columns</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="wrangling.html"><a href="wrangling.html#dplyrselect"><i class="fa fa-check"></i><b>10.2.1</b> <code>dplyr::select()</code></a></li>
<li class="chapter" data-level="10.2.2" data-path="wrangling.html"><a href="wrangling.html#selecting-columns-in-python"><i class="fa fa-check"></i><b>10.2.2</b> Selecting columns in Python</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="wrangling.html"><a href="wrangling.html#subsetting-rows-based-on-conditions"><i class="fa fa-check"></i><b>10.3</b> Subsetting rows based on conditions</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="wrangling.html"><a href="wrangling.html#dplyrfilter"><i class="fa fa-check"></i><b>10.3.1</b> <code>dplyr::filter()</code></a></li>
<li class="chapter" data-level="10.3.2" data-path="wrangling.html"><a href="wrangling.html#subsetting-rows-in-python"><i class="fa fa-check"></i><b>10.3.2</b> Subsetting rows in Python</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="wrangling.html"><a href="wrangling.html#adding-columns"><i class="fa fa-check"></i><b>10.4</b> Adding columns</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="wrangling.html"><a href="wrangling.html#dplyrmutate"><i class="fa fa-check"></i><b>10.4.1</b> <code>dplyr::mutate()</code></a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="wrangling.html"><a href="wrangling.html#finding-grouped-statistics"><i class="fa fa-check"></i><b>10.5</b> Finding grouped statistics</a></li>
<li class="chapter" data-level="10.6" data-path="wrangling.html"><a href="wrangling.html#joining-data-1"><i class="fa fa-check"></i><b>10.6</b> Joining data</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="troubleshooting.html"><a href="troubleshooting.html"><i class="fa fa-check"></i><b>11</b> Troubleshooting</a></li>
<li class="chapter" data-level="12" data-path="data-visualization-with-ggplot2-and-seaborn.html"><a href="data-visualization-with-ggplot2-and-seaborn.html"><i class="fa fa-check"></i><b>12</b> Data visualization with <code>ggplot2</code> and <code>seaborn</code></a>
<ul>
<li class="chapter" data-level="12.1" data-path="data-visualization-with-ggplot2-and-seaborn.html"><a href="data-visualization-with-ggplot2-and-seaborn.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>12.1</b> The grammar of graphics</a></li>
<li class="chapter" data-level="12.2" data-path="data-visualization-with-ggplot2-and-seaborn.html"><a href="data-visualization-with-ggplot2-and-seaborn.html#basic-anatomy-of-graphs-with-ggplot2-in-r-and-seaborn-in-python"><i class="fa fa-check"></i><b>12.2</b> Basic anatomy of graphs with <code>ggplot2</code> in R, and <code>seaborn</code> in Python</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="data-visualization-with-ggplot2-and-seaborn.html"><a href="data-visualization-with-ggplot2-and-seaborn.html#ggplot2-bare-minimum"><i class="fa fa-check"></i><b>12.2.1</b> <code>ggplot2</code> bare minimum</a></li>
<li class="chapter" data-level="12.2.2" data-path="data-visualization-with-ggplot2-and-seaborn.html"><a href="data-visualization-with-ggplot2-and-seaborn.html#seaborn-bare-minimum"><i class="fa fa-check"></i><b>12.2.2</b> <code>seaborn</code> bare minimum</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="data-visualization-with-ggplot2-and-seaborn.html"><a href="data-visualization-with-ggplot2-and-seaborn.html#mapping-variables-onto-graph-aesthetics"><i class="fa fa-check"></i><b>12.3</b> Mapping variables onto graph aesthetics</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="data-visualization-with-ggplot2-and-seaborn.html"><a href="data-visualization-with-ggplot2-and-seaborn.html#mapped-variable-aesthetics-in-ggplot2"><i class="fa fa-check"></i><b>12.3.1</b> Mapped variable aesthetics in <code>ggplot2</code></a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="data-visualization-with-ggplot2-and-seaborn.html"><a href="data-visualization-with-ggplot2-and-seaborn.html#essential-customization"><i class="fa fa-check"></i><b>12.4</b> Essential customization</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="py-r.html"><a href="py-r.html"><i class="fa fa-check"></i><b>13</b> Py-R differences</a>
<ul>
<li class="chapter" data-level="13.0.1" data-path="py-r.html"><a href="py-r.html#overarching-things"><i class="fa fa-check"></i><b>13.0.1</b> Overarching things</a></li>
<li class="chapter" data-level="13.0.2" data-path="py-r.html"><a href="py-r.html#strings-differences"><i class="fa fa-check"></i><b>13.0.2</b> Strings differences:</a></li>
<li class="chapter" data-level="13.0.3" data-path="py-r.html"><a href="py-r.html#number-sequences"><i class="fa fa-check"></i><b>13.0.3</b> Number sequences:</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">EDS 221: SCIENTIFIC PROGRAMMING ESSENTIALS</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-visualization-with-ggplot2-and-seaborn" class="section level1" number="12">
<h1><span class="header-section-number">Chapter 12</span> Data visualization with <code>ggplot2</code> and <code>seaborn</code></h1>
<p>GET SEABORN WORKING</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb55-1"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import seaborn as sns</span></span></code></pre></div>
<p>Visualizing data is a critical skill in every step of data science - from exploratory visualization to look for major patterns, groups or outliers in the data to preparing highly designed infographics for stakeholders, every data scientist must have technical and conceptual skills in data viz. </p>
<p>In this chapter, we’ll learn about two powerful packages for data visualization:</p>
<ul>
<li><code>ggplot2</code>: the go-to data visualization package in R (part of the tidyverse)</li>
<li><code>seaborn</code>: one of several popular data viz libraries in Python</li>
</ul>
<div id="the-grammar-of-graphics" class="section level2" number="12.1">
<h2><span class="header-section-number">12.1</span> The grammar of graphics</h2>
<p>The “gg” in <code>ggplot2</code> is for the <strong>grammar of graphics</strong> - a way to describe parts of a graph <span class="citation">(<a href="#ref-layered-grammar" role="doc-biblioref">Wickham 2010</a>)</span>, which in turn provides us an organized and predictable plan to build data visualizations. Understanding the grammar of graphics, and some vocabulary, can help to demystify how we build visualizations with code and the role of some specific functions.</p>
</div>
<div id="basic-anatomy-of-graphs-with-ggplot2-in-r-and-seaborn-in-python" class="section level2" number="12.2">
<h2><span class="header-section-number">12.2</span> Basic anatomy of graphs with <code>ggplot2</code> in R, and <code>seaborn</code> in Python</h2>
<div id="ggplot2-bare-minimum" class="section level3" number="12.2.1">
<h3><span class="header-section-number">12.2.1</span> <code>ggplot2</code> bare minimum</h3>
<p>Making the most basic ggplot requires 3 pieces:</p>
<ol style="list-style-type: decimal">
<li>Tell R you’re making a ggplot graph (<code>ggplot()</code>)</li>
<li>Tell it what data you’re plotting (including what the x- and/or y-axis variables are)</li>
<li>Tell it what type of plot you want to make</li>
</ol>
<p><strong>Note:</strong> it is very important to carefully consider the type of data you’re trying to visualize when making a graph. Some visualizations are not appropriate for some types of data. We’ll discuss this a bit more throughout the class, but one of my favorite resources to consider appropriate visualizations based on data type is <a href="data-to-viz.com">From Data to Viz</a>.</p>
<p>For example, let’s make a basic scatterplot of bill length versus bill depth from the <code>penguins</code> dataset (in the <code>palmerpenguins</code> package).</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> bill_length_mm, <span class="at">y =</span> bill_depth_mm)) <span class="sc">+</span></span>
<span id="cb56-2"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing missing values (geom_point).</code></pre>
<p><img src="eds-221_files/figure-html/unnamed-chunk-43-1.png" width="672" />
Let’s break down how that code maps onto the three essential pieces of a ggplot graph listed above.</p>
<ol style="list-style-type: decimal">
<li>We use <code>ggplot()</code> to let R know we’re making a ggplot graph (note: the <em>package</em> name is <code>ggplot2</code>, but the function we use is just <code>ggplot()</code>).</li>
<li>Within the <code>ggplot()</code> function, we have two arguments: The first, <code>data = penguins</code>, specifies which object in our environment (in this case, a data frame called penguins) we will get data from for our plot. The second argument, <code>aes(x = bill_length_mm, y = bill_depth_mm)</code>, tells us which variables map on to the x- and y-axis aesthetics (hence the <code>aes()</code>, for aesthetics).</li>
<li>We then add a layer (note the <code>+</code> symbol*) containing the specific geometry, or type of graph we’re trying to make. A standard scatterplot is made with <code>geom_point()</code>.</li>
</ol>
<p>*Note: A common mistake is using the pipe operator (<code>%&gt;%</code>) between ggplot layers instead of a <code>+</code> sign. Try to remember that we build a ggplot graph by adding layers to it piece by piece (<code>+</code>), not feeding graph pieces <em>into</em> a subsequent layer (which the <code>%&gt;%</code> implies).</p>
<p>Let’s make a few more bare minimum ggplots. For each, ask yourself: how does this example code map onto the three main pieces of a basic ggplot graph listed above?</p>
<p><strong>Example:</strong> a jitterplot (<code>geom_jitter()</code>) of flipper length by penguin species.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb58-2"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb58-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>()</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing missing values (geom_point).</code></pre>
<p><img src="eds-221_files/figure-html/unnamed-chunk-44-1.png" width="672" /></p>
<p><strong>Example:</strong> A boxplot of penguin body mass by island.</p>
<p>Let’s add some color, too, just for the halibut. Generally:</p>
<ul>
<li>Update line and point colors with <code>color =</code></li>
<li>Update shape fill colors with <code>fill =</code></li>
</ul>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> body_mass_g, <span class="at">y =</span> island)) <span class="sc">+</span></span>
<span id="cb60-2"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>(<span class="at">color =</span> <span class="st">&quot;purple&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;cyan2&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing non-finite values (stat_boxplot).</code></pre>
<p><img src="eds-221_files/figure-html/unnamed-chunk-45-1.png" width="672" /></p>
<p><strong>Critical thinking:</strong> What might a person unfamiliar with this data conclude if they only saw the boxplot above? Why should this concern us? What critical information is missing that is required for responsible consideration? See also: correlation is not causation, omitted variable bias.</p>
<p>Not all ggplot graph types require two variables. For example, a histogram only wants one numeric variable - it will find the frequencies (plotted on the y-axis) for you. For example, code to make a histogram of penguin flipper lengths is:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm)) <span class="sc">+</span></span>
<span id="cb62-2"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code></pre></div>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>## Warning: Removed 2 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="eds-221_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
</div>
<div id="seaborn-bare-minimum" class="section level3" number="12.2.2">
<h3><span class="header-section-number">12.2.2</span> <code>seaborn</code> bare minimum</h3>
<p>NOTE TO SELF: I used reticulate::py_install(“seaborn”) while in my project to get seaborn in the right place…</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb65-1"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code></pre></div>
</div>
</div>
<div id="mapping-variables-onto-graph-aesthetics" class="section level2" number="12.3">
<h2><span class="header-section-number">12.3</span> Mapping variables onto graph aesthetics</h2>
<p>In the examples above, we specified the x- and/or y- axis variables, but didn’t update any other aesthetics that would indicate groupings or values within the data. For example, we may want to:</p>
<ul>
<li>Differ point color by penguin <em>species</em></li>
<li>Increase point size by penguin <em>bill depth</em></li>
<li>Change the boxplot fill color by <em>island</em></li>
</ul>
<p>When we want to change an aesthetic based on variable values (remember: when I say “values” here, that can mean characters like penguin species), we are <em>mapping a variable onto a graph aesthetic</em>. In other words, we are changing an aesthetic of the graph to depend on values within a variable.</p>
<div id="mapped-variable-aesthetics-in-ggplot2" class="section level3" number="12.3.1">
<h3><span class="header-section-number">12.3.1</span> Mapped variable aesthetics in <code>ggplot2</code></h3>
<p>We map additional variables onto graph aesthetics with additional <code>aes()</code>.</p>
<p><strong>Important: Any time you update a graph aesthetic based on a variable value, it will be within <code>aes()</code>. Any time you update a graph aesthetic based on a constant (e.g. <code>color = "blue"</code>), it should NOT be within <code>aes()</code>.</strong></p>
<p><strong>Example:</strong> Create a scatterplot of penguin flipper length versus body mass, with color indicating penguin <em>species</em> and with point size changing based on the body mass variable value (using the <code>size</code> element).</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> flipper_length_mm, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb66-2"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color =</span> species, <span class="at">size =</span> body_mass_g))</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing missing values (geom_point).</code></pre>
<p><img src="eds-221_files/figure-html/unnamed-chunk-48-1.png" width="672" />
<strong>Example:</strong> Create a violin plot of body mass by species, with the violin fill color dependent on species <em>and</em> the violin outline color set to “red.”</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> penguins, <span class="fu">aes</span>(<span class="at">x =</span> species, <span class="at">y =</span> body_mass_g)) <span class="sc">+</span></span>
<span id="cb68-2"><a href="data-visualization-with-ggplot2-and-seaborn.html#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="fu">aes</span>(<span class="at">fill =</span> species), <span class="at">color =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Removed 2 rows containing non-finite values (stat_ydensity).</code></pre>
<p><img src="eds-221_files/figure-html/unnamed-chunk-49-1.png" width="672" /></p>
</div>
</div>
<div id="essential-customization" class="section level2" number="12.4">
<h2><span class="header-section-number">12.4</span> Essential customization</h2>
<p>The section above introduces the bare minimum elements needed to create a graph. However, they are far from complete until we update some essential graph elements for clarity.</p>
<p>Those include:</p>
<ul>
<li>Update axis labels (include label and units)</li>
<li>If necessary, add a title</li>
<li>Change the theme</li>
</ul>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-layered-grammar" class="csl-entry">
Wickham, Hadley. 2010. <span>“A Layered Grammar of Graphics.”</span> <em>Journal of Computational and Graphical Statistics</em> 19 (1): 3–28. <a href="https://doi.org/10.1198/jcgs.2009.07098">https://doi.org/10.1198/jcgs.2009.07098</a>.
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="troubleshooting.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="py-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["eds-221.pdf", "eds-221.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
